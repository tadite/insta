webpackJsonp([1],{0:function(t,e){},"2d5O":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i="/api",n={name:"ProfileSingleImage",props:["imageId"],computed:{imageLink:function(){return console.log(i+"/image/"+this.imageId),i+"/image/"+this.imageId}}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("router-link",{staticClass:"insta-img",attrs:{to:{name:"Profile",params:{imageId:this.imageId}},tag:"img",src:this.imageLink}})],1)},staticRenderFns:[]},o={name:"ProfileImageTile",props:["imageIds"],computed:{isEmpty:function(){return 0==this.imageChunks.length},imageChunks:function(){for(var t=[];this.imageIds.length%3!=0;)this.imageIds.push(!1);for(;this.imageIds.length>0;)t.push(this.imageIds.splice(0,3));return console.log(this.imageIds.length),t}},components:{ProfileSingleImage:a("VU/8")(n,l,!1,null,null,null).exports}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isEmpty?a("div",[t._v("\n  There is no photos yet.\n")]):a("div",t._l(t.imageChunks,function(e){return a("div",{staticClass:"tile is-ancestor"},[a("div",{staticClass:"tile is-parent is-paddingless"},t._l(e,function(e){return a("article",{staticClass:"tile is-child pd5"},[a("figure",{staticClass:"image is-square pb30"},[e?a("ProfileSingleImage",{attrs:{imageId:e}}):t._e()],1)])}))])}))},staticRenderFns:[]},c=a("VU/8")(o,r,!1,null,null,null).exports,u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"level pb20"},[a("article",{staticClass:"media"},[a("div",{staticClass:"media-content"},[a("strong",[t._v(t._s(t.profileData.fullname))]),t._v(" "),a("small",[t._v("@"+t._s(t.profileData.username))]),t._v(" "),a("br"),t._v(t._s(t.profileData.info)+"\n\n    ")])]),t._v(" "),a("div",{staticClass:"edit-container"},[a("router-link",{staticClass:"fas fa-plus-square edit-btn",attrs:{tag:"i",to:"/imageUpload"}}),t._v(" "),a("router-link",{staticClass:"fas fa-pen-square edit-btn",attrs:{tag:"i",to:"/profileEdit"}})],1)])},staticRenderFns:[]},m=a("VU/8")({name:"ProfileDataPanel",props:["profileData"]},u,!1,null,null,null).exports,d=a("mtWM"),p=a.n(d),g={props:["imageId"],data:function(){return{commentary:"",isActive:!1,imageLink:"",commentaryLink:""}},watch:{imageId:function(t,e){void 0===t&&(this.isActive=!1),t!==e&&void 0!==t&&(this.commentaryLink=i+"/description/"+t,this.imageLink=i+"/image/"+t,console.log(this.commentaryLink),p.a.get(this.commentaryLink).then(function(e){this.commentary=e.data,this.isActive=void 0!==t}.bind(this)))}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isActive?a("div",{staticClass:"modal",class:{"is-active":t.isActive}},[a("div",{staticClass:"modal-background",on:{click:function(e){t.$router.go(-1)}}}),t._v(" "),a("div",{staticClass:"modal-content"},[a("div",{staticClass:"card large"},[a("div",{staticClass:"card-image"},[a("figure",{staticClass:"image"},[a("img",{attrs:{src:t.imageLink,alt:"Image"}})])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[t._v("\n          "+t._s(t.commentary)+"\n        ")])])])]),t._v(" "),a("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:function(e){t.$router.go(-1)}}})]):t._e()},staticRenderFns:[]},v={name:"Profile",data:function(){return{isLoaded:!1,imageIds:[],profileData:{username:"",fullname:"",info:""}}},watch:{$route:function(t,e){this.fetchProfileData(this.$route.params.profileId)}},created:function(){this.fetchProfileData(this.$route.params.profileId)},methods:{fetchProfileData:function(t){var e=this;console.log("fetch profile "+t);var a=i+"/profile/"+t;p.a.get(a).then(function(t){console.log(t.data.profileData.username),e.profileData.username=t.data.profileData.username,e.profileData.fullname=t.data.profileData.fullname,e.profileData.info=t.data.profileData.info||" ",e.imageIds=t.data.imageIds}).catch(function(t){console.log(t.response)}),console.log(this.profileData)}},components:{ProfileImageTile:c,ProfileDataPanel:m,SingleImageModal:a("VU/8")(g,f,!1,null,null,null).exports}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("ProfileDataPanel",{attrs:{profileData:this.profileData,editing:this.$route.params.edit}}),this._v(" "),e("ProfileImageTile",{attrs:{imageIds:this.imageIds,editing:this.$route.params.edit}}),this._v(" "),e("SingleImageModal",{attrs:{imageId:this.$route.params.imageId}})],1)},staticRenderFns:[]},_=a("VU/8")(v,h,!1,null,null,null).exports,C={name:"SingleImagePage",props:["imageId"],created:function(){this.comment="test",console.log("fetch image "+this.imageId)},computed:{imageLink:function(){return i+"/image/"+this.imageId}},data:function(){return{comment:!1}}},b={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\r\n\r\n"+this._s(this.imageId)+"\r\n")])},staticRenderFns:[]},I={name:"App",components:{Profile:_,SingleImagePage:a("VU/8")(C,b,!1,null,null,null).exports}},P={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("vue-snotify"),this._v(" "),e("div",[e("div",{staticClass:"columns section"},[e("div",{staticClass:"column is-one-third is-offset-one-third"},[e("router-view")],1)])])],1)},staticRenderFns:[]},$=a("VU/8")(I,P,!1,null,null,null).exports,w=a("/ocq"),k={name:"ImageUploadPanel",data:function(){return{image:"",commentary:""}},created:function(){},methods:{uploadImage:function(){var t=this,e=i+"/image";p.a.post(e,this.image,{headers:{Authorization:this.$store.state.jwt}}).then(function(e){console.log("image"),console.log(e);var a=e.data;t.updateCommentary(a)}).catch(function(e){t.$snotify.simple(e.response.data.message)})},updateCommentary:function(t){var e=this,a=i+"/image/"+t;console.log(this.commentary),p.a.post(a,this.commentary,{headers:{Authorization:this.$store.state.jwt}}).then(function(t){console.log("comment"),console.log(t),e.$snotify.simple("Image uploaded")}).catch(function(t){e.$snotify.simple(t.response.data.message)})},onFileChange:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&this.createImage(e[0])},createImage:function(t){new Image;var e=new FileReader,a=this;e.onload=function(t){a.image=t.target.result},e.readAsDataURL(t)},removeImage:function(t){this.image=""}},components:{}},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field"},[a("div",{staticClass:"notification has-background-light"},[a("button",{staticClass:"delete",on:{click:function(e){t.$router.go(-1)}}}),t._v(" "),a("div",{staticClass:"field"},[a("div",{staticClass:"file"},[a("label",{staticClass:"file-label"},[a("input",{staticClass:"file-input",attrs:{type:"file",name:"resume"},on:{change:t.onFileChange}}),t._v(" "),t._m(0)])])]),t._v(" "),t.image?a("div",{staticClass:"field"},[a("div",{staticClass:"field"},[a("img",{staticClass:"upload-img",attrs:{src:t.image}}),t._v(" "),a("button",{staticClass:"button is-danger",on:{click:t.removeImage}},[t._v("Remove image")])]),t._v(" "),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Image commentary")]),t._v(" "),a("div",{staticClass:"control"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentary,expression:"commentary"}],staticClass:"input",attrs:{type:"text",placeholder:"Image commentary"},domProps:{value:t.commentary},on:{input:function(e){e.target.composing||(t.commentary=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"control"},[a("button",{staticClass:"button is-success",on:{click:t.uploadImage}},[t._v("Save")])])]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"file-cta"},[e("span",{staticClass:"file-icon"},[e("i",{staticClass:"fas fa-upload"})]),this._v(" "),e("span",{staticClass:"file-label"},[this._v("\n              Choose a photo...\n            ")])])}]},x=a("VU/8")(k,y,!1,null,null,null).exports,D={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field"},[a("div",{staticClass:"notification has-background-light"},[a("button",{staticClass:"delete",on:{click:function(e){t.$router.go(-1)}}}),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[this._v("Full Name")]),this._v(" "),e("div",{staticClass:"control"},[e("input",{staticClass:"input",attrs:{type:"text",placeholder:"Text input"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[this._v("Message")]),this._v(" "),e("div",{staticClass:"control"},[e("textarea",{staticClass:"textarea",attrs:{placeholder:"Textarea"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field is-grouped"},[e("div",{staticClass:"control"},[e("button",{staticClass:"button is-link"},[this._v("Submit")])]),this._v(" "),e("div",{staticClass:"control"},[e("button",{staticClass:"button is-text"},[this._v("Cancel")])])])}]},E=a("VU/8")({name:"ProfileEdit",created:function(){},components:{}},D,!1,null,null,null).exports,U={name:"LoginPage",data:function(){return{username:"test-user",password:"test-pass"}},methods:{login:function(){var t=this,e={username:this.username,password:this.password},a=i+"/auth/signin";console.log(e),p.a.post(a,e).then(function(e){var a=e.data.tokenType+" "+e.data.accessToken;t.$store.state.username=t.username,t.$store.state.jwt=a,t.$store.state.authenticated=!0,console.log(t.$store.state),t.$snotify.simple("Successful Login"),t.$router.push("/profile/"+t.username)}).catch(function(e){t.$snotify.simple(e.response.data.message)})}}},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field"},[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Username")]),t._v(" "),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"input",attrs:{type:"text",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Password")]),t._v(" "),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",attrs:{placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"field is-grouped"},[a("div",{staticClass:"control "},[a("button",{staticClass:"button is-link",on:{click:t.login}},[t._v("Submit")])]),t._v(" "),a("div",{staticClass:"control"},[a("router-link",{staticClass:"button is-danger",attrs:{tag:"button",to:"/signup"}},[t._v("Registration")])],1)])])},staticRenderFns:[]},L=a("VU/8")(U,F,!1,null,null,null).exports,N={name:"LoginPage",data:function(){return{username:"test-user",password:"test-pass",fullName:"Test Petrovich"}},methods:{login:function(){var t=this;console.log(i);var e={username:this.username,password:this.password,fullName:this.fullName},a=i+"/auth/signup";console.log(e),p.a.post(a,e).then(function(e){console.log(e),t.$snotify.simple("Successful Registration"),t.$router.push("/signin")}).catch(function(e){t.$snotify.simple(e.response.data.message)})}}},R={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field"},[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Username")]),t._v(" "),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"input",attrs:{type:"text",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Password")]),t._v(" "),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",attrs:{placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Full name")]),t._v(" "),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.fullName,expression:"fullName"}],staticClass:"input",attrs:{placeholder:"Full name"},domProps:{value:t.fullName},on:{input:function(e){e.target.composing||(t.fullName=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"field is-grouped"},[a("div",{staticClass:"control "},[a("button",{staticClass:"button is-link",on:{click:t.login}},[t._v("Submit")])]),t._v(" "),a("div",{staticClass:"control"},[a("router-link",{staticClass:"button is-danger",attrs:{tag:"button",to:"/signin"}},[t._v("Back")])],1)])])},staticRenderFns:[]},S=a("VU/8")(N,R,!1,null,null,null).exports;s.a.use(w.a);var A=new w.a({routes:[{path:"/",redirect:"/signin"},{path:"/profile/:profileId/:imageId?",name:"Profile",component:_},{path:"/imageUpload",name:"ImageUploadPanel",component:x,props:!0},{path:"/profileEdit",name:"ProfileEdit",component:E,props:!0},{path:"/signin",name:"LoginPage",component:L,props:!0},{path:"/signup",name:"RegistrationPage",component:S,props:!0}]}),T=a("8+8L"),V=a("NYxO");s.a.use(V.a);var j=new V.a.Store({state:{authenticated:!1,username:"",jwt:""}}),M=a("HgYs");a("2d5O");s.a.config.productionTip=!1,s.a.use(T.a),s.a.use(M.a),new s.a({el:"#app",store:j,router:A,components:{App:$},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.2d363ec42c22dc2a1c78.js.map