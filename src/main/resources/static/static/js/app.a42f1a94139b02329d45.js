webpackJsonp([1],{0:function(t,e){},"2d5O":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i=a("mtWM"),n=a.n(i),o="/api",l={name:"ProfileSingleImage",props:["imageId"],created:function(){var t=this;console.log("IMAGE_WATCH"),console.log(this.imageId),console.log(o+"/image/"+this.imageId),n.a.get(o+"/image/"+this.imageId).then(function(e){console.log(decodeURIComponent(e.data)),t.imgData=decodeURIComponent(e.data)}).catch(function(t){console.log(t.response)})},data:function(){return{imgData:""}}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("router-link",{staticClass:"insta-img",attrs:{to:{name:"Profile",params:{imageId:this.imageId}},tag:"img",src:this.imgData}})],1)},staticRenderFns:[]},c={name:"ProfileImageTile",props:["imageIds"],computed:{isEmpty:function(){return 0==this.imageIds.length},imageChunks:function(){for(var t=[];this.imageIds.length%3!=0;)this.imageIds.push(!1);for(;this.imageIds.length>0;)t.push(this.imageIds.splice(0,3));return console.log(this.imageIds.length),t}},components:{ProfileSingleImage:a("VU/8")(l,r,!1,null,null,null).exports}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return 0==t.imageChunks.length?a("div",[t._v("\n  There is no photos yet.\n")]):a("div",t._l(t.imageChunks,function(e){return a("div",{staticClass:"tile is-ancestor"},[a("div",{staticClass:"tile is-parent is-paddingless"},t._l(e,function(e){return a("article",{staticClass:"tile is-child pd5"},[a("figure",{staticClass:"image is-square pb30"},[e?a("ProfileSingleImage",{attrs:{imageId:e}}):t._e()],1)])}))])}))},staticRenderFns:[]},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"level pb20"},[a("article",{staticClass:"media"},[a("div",{staticClass:"media-content"},[a("strong",[t._v(t._s(t.profileData.fullname))]),t._v(" "),a("small",[t._v("@"+t._s(t.profileData.username))]),t._v(" "),a("br"),t._v(t._s(t.profileData.info)+"\n\n    ")])]),t._v(" "),a("div",{staticClass:"edit-container"},[a("router-link",{staticClass:"fas fa-plus-square edit-btn",attrs:{tag:"i",to:"/imageUpload"}}),t._v(" "),a("router-link",{staticClass:"fas fa-pen-square edit-btn",attrs:{tag:"i",to:"/profileEdit"}})],1)])},staticRenderFns:[]},d={props:["imageId"],data:function(){return{commentary:"",isActive:!1,imageData:"",commentaryLink:""}},watch:{imageId:function(t,e){var a=this;void 0===t&&(this.isActive=!1),t!==e&&void 0!==t&&(this.commentaryLink=o+"/description/"+t,this.imageLink=o+"/image/"+t,console.log(this.commentaryLink),n.a.get(this.commentaryLink).then(function(e){a.commentary=decodeURIComponent(e.data),a.isActive=void 0!==t}),n.a.get(this.imageLink).then(function(t){a.imageData=decodeURIComponent(t.data)}))}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isActive?a("div",{staticClass:"modal",class:{"is-active":t.isActive}},[a("div",{staticClass:"modal-background",on:{click:function(e){t.$router.go(-1)}}}),t._v(" "),a("div",{staticClass:"modal-content"},[a("div",{staticClass:"card large"},[a("div",{staticClass:"card-image"},[a("figure",{staticClass:"image"},[a("img",{attrs:{src:t.imageData,alt:"Image"}})])]),t._v(" "),a("div",{staticClass:"card-content"},[a("div",{staticClass:"content"},[t._v("\n          "+t._s(t.commentary)+"\n        ")])])])]),t._v(" "),a("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:function(e){t.$router.go(-1)}}})]):t._e()},staticRenderFns:[]},g={name:"Profile",data:function(){return{isLoaded:!1,imageIds:[],profileData:{username:"",fullname:"",info:""}}},watch:{$route:function(t,e){this.fetchProfileData(this.$route.params.profileId)}},created:function(){this.fetchProfileData(this.$route.params.profileId)},methods:{fetchProfileData:function(t){var e=this;console.log("fetch profile "+t);var a=o+"/profile/"+t;n.a.get(a).then(function(t){console.log(t.data.profileData.username),e.profileData.username=t.data.profileData.username,e.profileData.fullname=t.data.profileData.fullname,e.profileData.info=t.data.profileData.info||" ",e.imageIds=t.data.imageIds}).catch(function(t){console.log(t.response)}),console.log(this.profileData)}},components:{ProfileImageTile:a("VU/8")(c,u,!1,null,null,null).exports,ProfileDataPanel:a("VU/8")({name:"ProfileDataPanel",props:["profileData"]},m,!1,null,null,null).exports,SingleImageModal:a("VU/8")(d,p,!1,null,null,null).exports}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("ProfileDataPanel",{attrs:{profileData:this.profileData,editing:this.$route.params.edit}}),this._v(" "),e("ProfileImageTile",{attrs:{imageIds:this.imageIds,editing:this.$route.params.edit}}),this._v(" "),e("SingleImageModal",{attrs:{imageId:this.$route.params.imageId}})],1)},staticRenderFns:[]},v=a("VU/8")(g,f,!1,null,null,null).exports,h={name:"SingleImagePage",props:["imageId"],created:function(){this.comment="test",console.log("fetch image "+this.imageId)},computed:{imageLink:function(){return o+"/image/"+this.imageId}},data:function(){return{comment:!1}}},_={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\r\n\r\n"+this._s(this.imageId)+"\r\n")])},staticRenderFns:[]},C={name:"App",components:{Profile:v,SingleImagePage:a("VU/8")(h,_,!1,null,null,null).exports}},I={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("vue-snotify"),this._v(" "),e("div",[e("div",{staticClass:"columns section"},[e("div",{staticClass:"column is-one-third is-offset-one-third"},[e("router-view")],1)])])],1)},staticRenderFns:[]},b=a("VU/8")(C,I,!1,null,null,null).exports,P=a("/ocq"),$={name:"ImageUploadPanel",data:function(){return{image:"",commentary:""}},created:function(){},methods:{uploadImage:function(){var t=this,e=o+"/image";n.a.post(e,this.image,{headers:{Authorization:this.$store.state.jwt}}).then(function(e){var a=e.data;t.updateCommentary(a)}).catch(function(e){t.$snotify.simple(e.response.data.message)})},updateCommentary:function(t){var e=this,a=o+"/image/"+t;console.log(this.commentary),n.a.post(a,this.commentary,{headers:{Authorization:this.$store.state.jwt}}).then(function(t){console.log("comment"),console.log(t),e.$snotify.simple("Image uploaded")}).catch(function(t){e.$snotify.simple(t.response.data.message)})},onFileChange:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&this.createImage(e[0])},createImage:function(t){new Image;var e=new FileReader,a=this;e.onload=function(t){a.image=t.target.result};var s=e.readAsDataURL(t);console.log(s)},removeImage:function(t){this.image=""}},components:{}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field"},[a("div",{staticClass:"notification has-background-light"},[a("button",{staticClass:"delete",on:{click:function(e){t.$router.go(-1)}}}),t._v(" "),a("div",{staticClass:"field"},[a("div",{staticClass:"file"},[a("label",{staticClass:"file-label"},[a("input",{staticClass:"file-input",attrs:{type:"file",name:"resume"},on:{change:t.onFileChange}}),t._v(" "),t._m(0)])])]),t._v(" "),t.image?a("div",{staticClass:"field"},[a("div",{staticClass:"field"},[a("img",{staticClass:"upload-img",attrs:{src:t.image}}),t._v(" "),a("button",{staticClass:"button is-danger",on:{click:t.removeImage}},[t._v("Remove image")])]),t._v(" "),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Image commentary")]),t._v(" "),a("div",{staticClass:"control"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentary,expression:"commentary"}],staticClass:"input",attrs:{type:"text",placeholder:"Image commentary"},domProps:{value:t.commentary},on:{input:function(e){e.target.composing||(t.commentary=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"control"},[a("button",{staticClass:"button is-success",on:{click:t.uploadImage}},[t._v("Save")])])]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"file-cta"},[e("span",{staticClass:"file-icon"},[e("i",{staticClass:"fas fa-upload"})]),this._v(" "),e("span",{staticClass:"file-label"},[this._v("\n              Choose a photo...\n            ")])])}]},y=a("VU/8")($,w,!1,null,null,null).exports,k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field"},[a("div",{staticClass:"notification has-background-light"},[a("button",{staticClass:"delete",on:{click:function(e){t.$router.go(-1)}}}),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[this._v("Full Name")]),this._v(" "),e("div",{staticClass:"control"},[e("input",{staticClass:"input",attrs:{type:"text",placeholder:"Text input"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field"},[e("label",{staticClass:"label"},[this._v("Message")]),this._v(" "),e("div",{staticClass:"control"},[e("textarea",{staticClass:"textarea",attrs:{placeholder:"Textarea"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"field is-grouped"},[e("div",{staticClass:"control"},[e("button",{staticClass:"button is-link"},[this._v("Submit")])]),this._v(" "),e("div",{staticClass:"control"},[e("button",{staticClass:"button is-text"},[this._v("Cancel")])])])}]},x=a("VU/8")({name:"ProfileEdit",created:function(){},components:{}},k,!1,null,null,null).exports,D={name:"LoginPage",data:function(){return{username:"test-user",password:"test-pass"}},methods:{login:function(){var t=this,e={username:this.username,password:this.password},a=o+"/auth/signin";console.log(e),n.a.post(a,e).then(function(e){var a=e.data.tokenType+" "+e.data.accessToken;t.$store.state.username=t.username,t.$store.state.jwt=a,t.$store.state.authenticated=!0,console.log(t.$store.state),t.$snotify.simple("Successful Login"),t.$router.push("/profile/"+t.username)}).catch(function(e){t.$snotify.simple(e.response.data.message)})}}},U={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field"},[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Username")]),t._v(" "),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"input",attrs:{type:"text",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Password")]),t._v(" "),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",attrs:{placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"field is-grouped"},[a("div",{staticClass:"control "},[a("button",{staticClass:"button is-link",on:{click:t.login}},[t._v("Submit")])]),t._v(" "),a("div",{staticClass:"control"},[a("router-link",{staticClass:"button is-danger",attrs:{tag:"button",to:"/signup"}},[t._v("Registration")])],1)])])},staticRenderFns:[]},E=a("VU/8")(D,U,!1,null,null,null).exports,R={name:"LoginPage",data:function(){return{username:"test-user",password:"test-pass",fullName:"Test Petrovich"}},methods:{login:function(){var t=this;console.log(o);var e={username:this.username,password:this.password,fullName:this.fullName},a=o+"/auth/signup";console.log(e),n.a.post(a,e).then(function(e){console.log(e),t.$snotify.simple("Successful Registration"),t.$router.push("/signin")}).catch(function(e){t.$snotify.simple(e.response.data.message)})}}},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field"},[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Username")]),t._v(" "),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"input",attrs:{type:"text",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Password")]),t._v(" "),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",attrs:{placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Full name")]),t._v(" "),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.fullName,expression:"fullName"}],staticClass:"input",attrs:{placeholder:"Full name"},domProps:{value:t.fullName},on:{input:function(e){e.target.composing||(t.fullName=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"field is-grouped"},[a("div",{staticClass:"control "},[a("button",{staticClass:"button is-link",on:{click:t.login}},[t._v("Submit")])]),t._v(" "),a("div",{staticClass:"control"},[a("router-link",{staticClass:"button is-danger",attrs:{tag:"button",to:"/signin"}},[t._v("Back")])],1)])])},staticRenderFns:[]},N=a("VU/8")(R,F,!1,null,null,null).exports;s.a.use(P.a);var L=new P.a({routes:[{path:"/",redirect:"/signin"},{path:"/profile/:profileId/:imageId?",name:"Profile",component:v},{path:"/imageUpload",name:"ImageUploadPanel",component:y,props:!0},{path:"/profileEdit",name:"ProfileEdit",component:x,props:!0},{path:"/signin",name:"LoginPage",component:E,props:!0},{path:"/signup",name:"RegistrationPage",component:N,props:!0}]}),S=a("8+8L"),A=a("NYxO");s.a.use(A.a);var T=new A.a.Store({state:{authenticated:!1,username:"",jwt:""}}),V=a("HgYs");a("2d5O");s.a.config.productionTip=!1,s.a.use(S.a),s.a.use(V.a),new s.a({el:"#app",store:T,router:L,components:{App:b},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.a42f1a94139b02329d45.js.map